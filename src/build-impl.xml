<!-- +=====================================================================+ -->
<!-- |                                                                     | -->
<!-- |                    b u i l d - i m p l . x m l                      | -->
<!-- |                                                                     | -->
<!-- | abstract: Emacs/ant specific implementation for proxymusic project  | -->
<!-- | location: ${basedir}/src/build-impl.xml                             | -->
<!-- | author:   herve.bitteur@laposte.net                                 | -->
<!-- |                                                                     | -->
<!-- +=====================================================================+ -->

<project name="proxymusic-impl" basedir="..">

    <description>

	Use 'ant -projecthelp' to list public defined targets.
	Targets whose name begins with '-' are only internal targets.
    </description>
    
    <!-- Build Test classpath -->
    <path id="build.test.classpath">
        <pathelement path="${dist.jar}"/>
        <pathelement path="${build.test.classes.dir}"/>
<!--         <pathelement path="${build.classes.dir}"/> -->
    </path>
    
    <!-- Run Test classpath -->
    <path id="run.test.classpath">
        <pathelement path="${dist.jar}"/>
        <pathelement path="${build.test.classes.dir}"/>
<!--         <pathelement path="${build.classes.dir}"/> -->
    </path>
    
    <!-- ================================================================ -->

    <target name="build" depends="compile, -pre-jar, -do-jar-with-manifest"
	    description="Generate the binary and source archives."/>

    <!-- ================================================================ -->
    
    <!-- =========== -->
    <!--  C L E A N  -->
    <!-- =========== -->
    <target name="clean"
	    depends="-do-clean, -post-clean"
	    description="Clean build products."/>

    <!-- ================================================================ -->
    
    <!-- ========= -->
    <!--  I N I T  -->
    <!-- ========= -->
    <target name="init">
        <!-- Create the time stamp -->
        <tstamp/>
    </target>

    <!-- =================== -->
    <!--  - D O - C L E A N  -->
    <!-- =================== -->
    <target name="-do-clean">
        <delete dir="${build.dir}"/>
        <delete dir="${dist.dir}"/>
        <delete dir="${model.dir}/dtd"/>
        <delete dir="${model.dir}/xsd"/>
    </target>

    <!-- ============================= -->
    <!--  - J A V A D O C - B U I L D  -->
    <!-- ============================= -->
    <target name="-javadoc-build">
        <mkdir dir="${dist.javadoc.dir}"/>
        <javadoc
	    author="${javadoc.author}"
	    destdir="${dist.javadoc.dir}"
	    failonerror="true"
	    noindex="${javadoc.noindex}"
	    nonavbar="${javadoc.nonavbar}"
	    notree="${javadoc.notree}"
            overview="${javadoc.overview}"
	    private="${javadoc.private}"
	    source="${javac.source}"
	    splitindex="${javadoc.splitindex}"
	    use="${javadoc.use}"
	    useexternalfile="true"
	    version="${javadoc.version}"
	    windowtitle="${javadoc.windowtitle}"
	    >
            <classpath>
                <path path="${javac.classpath}"/>
            </classpath>
            <sourcepath>
                <pathelement location="${src.dir}"/>
            </sourcepath>
            <packageset dir="${src.dir}" includes="*/**"/>
            <fileset dir="${src.dir}" includes="*.java"/>
        </javadoc>
    </target>

    <!-- ================================================================ -->

</project>
