<!-- +=====================================================================+ -->
<!-- |                                                                     | -->
<!-- |                    b u i l d - i m p l . x m l                      | -->
<!-- |                                                                     | -->
<!-- | abstract: Emacs/ant specific implementation for proxymusic project  | -->
<!-- | location: ${basedir}/src/build-impl.xml                             | -->
<!-- | author:   herve.bitteur@laposte.net                                 | -->
<!-- |                                                                     | -->
<!-- +=====================================================================+ -->

<project name="proxymusic-impl" basedir="..">

    <description>

	Use 'ant -projecthelp' to list public defined targets.
	Targets whose name begins with '-' are only internal targets.
    </description>
    
    <!-- ================================================================ -->
    
    <!-- =========== -->
    <!--  C L E A N  -->
    <!-- =========== -->
    <target name="clean"
	    depends="-do-clean, -post-clean"
	    description="Clean build products."/>

    <!-- ========= -->
    <!--  I N I T  -->
    <!-- ========= -->
    <target name="init">
        <!-- Create the time stamp -->
        <tstamp/>
    </target>
    
    <!-- =============== -->
    <!--  C O M P I L E  -->
    <!-- =============== -->
    <target name="compile"
 	    depends="init, -pre-compile">
	
        <mkdir dir="${build.classes.dir}"/>
        
        <javac
    	    includeantruntime = "false"
            target       = "${javac.target}"
            debug        = "${build.compile.debug}"
            deprecation  = "${build.compile.deprecation}"
            destdir      = "${build.classes.dir}"
            listfiles    = "${build.compile.listfiles}"
            source       = "${build.compile.source}"
            srcdir       = "${src.dir}"
            >
        </javac>
	
    </target>

    <!-- =================== -->
    <!--  - D O - C L E A N  -->
    <!-- =================== -->
    <target name="-do-clean">
        <delete dir="${build.dir}"/>
        <delete dir="${dist.dir}"/>
    </target>

    <!-- ============================= -->
    <!--  - J A V A D O C - B U I L D  -->
    <!-- ============================= -->
    <target name="-javadoc-build">
        <mkdir dir="${dist.javadoc.dir}"/>
        <javadoc
	    author="${javadoc.author}"
	    destdir="${dist.javadoc.dir}"
	    failonerror="true"
	    noindex="${javadoc.noindex}"
	    nonavbar="${javadoc.nonavbar}"
	    notree="${javadoc.notree}"
            overview="${javadoc.overview}"
	    private="${javadoc.private}"
	    source="${javac.source}"
	    splitindex="${javadoc.splitindex}"
	    use="${javadoc.use}"
	    useexternalfile="true"
	    version="${javadoc.version}"
	    windowtitle="${javadoc.windowtitle}"
	    >
            <classpath>
                <path path="${javac.classpath}"/>
            </classpath>
            <sourcepath>
                <pathelement location="${src.dir}"/>
            </sourcepath>
            <packageset dir="${src.dir}" includes="*/**"/>
            <fileset dir="${src.dir}" includes="*.java"/>
        </javadoc>
    </target>

    <!-- ================================================================ -->

</project>
